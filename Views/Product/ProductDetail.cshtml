@model WebApplication1.Models.Product
@{
    ViewData["Title"] = "Product Details";
}

<div class="container mt-4">
    <h2>@Model.ProductName</h2>
    <p><strong>Category:</strong> @Model.Category?.CategoryName</p>
    <p><strong>Supplier:</strong> @Model.Supplier?.SupplierName</p>
    <p><strong>Price:</strong> @Model.BasePrice.ToString("C")</p>
    <p><strong>Discount:</strong> @(Model.DiscountPercent.HasValue ? Model.DiscountPercent.Value.ToString("P") : "No Discount")</p>
    <p><strong>Description:</strong> @(string.IsNullOrEmpty(Model.Description) ? "No Description" : Model.Description)</p>
    <p><strong>Status:</strong> @((Model.Status ?? true) ? "Active" : "Inactive")</p>
    <p><strong>Featured:</strong> @(Model.Featured ? "Yes" : "No")</p>
    <p><strong>Created At:</strong> @Model.CreatedAt?.ToString("yyyy-MM-dd")</p>

    <h4>Product Images</h4>
    <div class="d-flex gap-2">
        @if (Model.ProductImages.Any())
        {
            @foreach (var img in Model.ProductImages)
            {
                <img src="@img.ImageUrl" alt="Product Image" class="img-thumbnail" style="width: 100px; height: 100px;" />
            }
        }
        else
        {
            <p>No Images Available</p>
        }
    </div>

    <h4 class="mt-3">Variants</h4>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Size</th>
                <th>Color</th>
                <th>Material</th>
                <th>SKU</th>
                <th>Stock</th>
                <th>Image</th>
                <th>Additional Price</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.ProductVariants.Any())
            {
                @foreach (var variant in Model.ProductVariants)
                {
                    <tr>
                        <td>@variant.Size?.SizeName</td>
                        <td>@variant.Color?.ColorName</td>
                        <td>@variant.Material?.MaterialName</td>
                        <td>@variant.Sku</td>
                        <td>@variant.Stock</td>
                        <td>@(variant.Image ?? "")</td>
                        <td>@(variant.AdditionalPrice?.ToString("C") ?? "N/A")</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="4" class="text-center">No Variants Available</td>
                </tr>
            }
        </tbody>
    </table>

    <a href="@Url.Action("Index", "Product")" class="btn btn-secondary">Back to List</a>
</div>